'use strict';

var _require = require('../constants'),
    buildTools = _require.buildTools;

function includesSuccess() {
  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

  var isBuildToolsSuccess = void 0;
  var isPythonSuccess = void 0;

  if (buildTools.version === 2015) {
    // Success strings for build tools (2015)
    isBuildToolsSuccess = input.includes('Variable: IsInstalled = 1') || input.includes('Variable: BuildTools_Core_Installed = ') || input.includes('WixBundleInstalled = 1');
  } else {
    // Success strings for build tools (2017)
    isBuildToolsSuccess = input.includes('Closing installer. Return code: 3010.') || input.includes('Closing installer. Return code: 0.');
  }

  // Success strings for Python
  isPythonSuccess = input.includes('INSTALL. Return value 1') || input.includes('Installation completed successfully') || input.includes('Configuration completed successfully');

  return {
    isBuildToolsSuccess: isBuildToolsSuccess,
    isPythonSuccess: isPythonSuccess
  };
}

function includesFailure() {
  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

  return input.includes('Closing installer. Return code:') || input.includes('Shutting down, exit code:');
}

module.exports = { includesSuccess: includesSuccess, includesFailure: includesFailure };