'use strict';

var path = require('path');

var getWorkDirectory = require('./get-work-dir').getWorkDirectory;
var constants = require('../constants');

/**
 * Ensures that %USERPROFILE%/.windows-build-tools exists
 * and returns the path to it
 *
 * @returns {Object} - Object containing path and fileName of installer for python
 */
function getPythonInstallerPath() {
  var directory = getWorkDirectory();
  var python = constants.python;

  return {
    path: path.join(directory, python.installerName),
    fileName: python.installerName,
    url: python.installerUrl,
    logPath: path.join(directory, python.logName),
    targetPath: path.join(directory, python.targetName),
    directory: directory
  };
}

module.exports = { getPythonInstallerPath: getPythonInstallerPath };