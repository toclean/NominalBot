'use strict';

var fs = require('fs-extra');
var path = require('path');

/**
 * Ensures that %USERPROFILE%/.windows-build-tools exists
 * and returns the path to it
 *
 * @returns {string} - Path to windows-build-tools working dir
 */
function getWorkDirectory() {
  var homeDir = process.env.USERPROFILE || require('os').homedir();
  var workDir = path.join(homeDir, '.windows-build-tools');

  try {
    fs.ensureDirSync(workDir);
    return workDir;
  } catch (err) {
    console.log(err);
  }
}

module.exports = { getWorkDirectory: getWorkDirectory };